/* Paleta y tipografÃ­a profesional (empresa de mantenimiento) */
:root{
  --bg:#f4f6f8;           /* fondo suave */
  --surface:#ffffff;       /* tarjetas/superficies */
  --border:#e5e7eb;        /* bordes sutiles */
  --txt:#0f172a;           /* texto principal (slate-900) */
  --mut:#6b7280;           /* texto secundario */
  --pri:#2563eb;           /* azul corporativo */
  --pri-600:#1d4ed8;       /* hover */
  --pri-700:#1e40af;       /* activo */
  --sec:#0ea5e9;           /* celeste */
  --indigo:#4f46e5;        /* indigo */
  --cyan:#0891b2;          /* cyan */
  --blue:#2563eb;          /* blue base */
  --acc:#f59e0b;           /* acento (amarillo seguridad) */
  --ok:#16a34a;            /* verde Ã©xito */
  --err:#dc2626;           /* rojo error */
  --warn:#f59e0b;          /* advertencia */
  --shadow: 0 6px 18px rgba(2,6,23,.08), 0 2px 6px rgba(2,6,23,.04);
  --radius: 10px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:
    radial-gradient(1200px 300px at -20% -10%, rgba(37,99,235,.07), transparent 60%),
    radial-gradient(800px 240px at 120% -10%, rgba(14,165,233,.06), transparent 50%),
    linear-gradient(180deg,#f5f7fb 0%, #f0f3f7 100%);
  color:var(--txt); font:14px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Arial;
  letter-spacing:.1px;
}

/* Bloquear selecciÃ³n de texto global (con excepciones) */
html, body, body *{
  -webkit-user-select:none; -moz-user-select:none; -ms-user-select:none; user-select:none;
}
input, textarea, select, [contenteditable="true"], .selectable{
  -webkit-user-select:text; -moz-user-select:text; -ms-user-select:text; user-select:text;
}
/* Evitar arrastre de imÃ¡genes */
img{ -webkit-user-drag:none; user-drag:none; }

/* Encabezado con degradado y navegaciÃ³n moderna */
header{
  background:linear-gradient(90deg,#0f172a 0%, #1e3a8a 55%, #1d4ed8 100%);
  color:#fff; box-shadow: var(--shadow);
}
header .contenedor{max-width:1200px;margin:auto;padding:14px 16px}
/* NavegaciÃ³n: quepa sin barra â€” permite salto a 2 lÃ­neas si es necesario */
header nav{display:flex;flex-wrap:wrap;align-items:center;gap:18px;overflow:visible;flex:1 1 600px}
header .topbar{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;row-gap:8px}
/* Marca */
.brand{display:flex;align-items:center;gap:14px}
.brand-logo{width:88px;height:88px;display:block;filter:drop-shadow(0 4px 10px rgba(0,0,0,.25)); border-radius:14px; background:#ffffff22}
.brand-name{letter-spacing:.3px; font-size:20px}
nav a{
  margin-right:0; text-decoration:none; color:#e5e7eb; font-weight:500; position:relative;
  padding:8px 10px; border-radius:8px; transition:color .15s ease, background .15s ease;
  display:inline-flex; align-items:center; white-space:nowrap;
}
nav a:hover{color:#fff; background:rgba(255,255,255,.08)}
nav a.activo{color:#fff; background:rgba(255,255,255,.14)}

footer{background:var(--surface); border-top:1px solid var(--border)}
footer .contenedor{max-width:1200px;margin:auto;padding:14px 16px;color:var(--mut)}

.contenedor{max-width:1200px;margin:18px auto;padding:0 16px}

/* Tarjetas y layout */
.tarjeta{
  background:var(--surface); border:1px solid var(--border); border-radius:var(--radius);
  padding:14px 16px; margin-bottom:14px; box-shadow: var(--shadow);
}

/* Tarjetas modernas y grandes */
.tarjeta-xl{padding:22px 22px; border-radius:16px; box-shadow:0 14px 34px rgba(15,23,42,.10)}
.tarjeta-hover{transition:transform .12s ease, box-shadow .2s ease}
.tarjeta-hover:hover{transform:translateY(-2px); box-shadow:0 18px 42px rgba(15,23,42,.16)}

/* Hero de portada */
.hero{
  position:relative; border-radius:16px; overflow:hidden; margin:16px 0 18px; color:#0b1220;
  background:
    radial-gradient(800px 200px at -10% -10%, rgba(14,165,233,.18), transparent 60%),
    radial-gradient(600px 180px at 120% -10%, rgba(79,70,229,.16), transparent 50%),
    linear-gradient(135deg,#f8fbff 0%, #eef4ff 100%);
  border:1px solid #e6ecff;
}
.hero-inner{display:flex;align-items:center;justify-content:space-between;gap:18px;padding:22px}
.hero-copy h1{margin:0 0 6px 0;font-size:28px;letter-spacing:.3px;color:#0f172a}
.hero-copy p{margin:0 0 12px 0;color:#334155}
.hero-cta .btn{margin-right:8px}
.hero-logo{width:120px;height:auto;filter:drop-shadow(0 8px 20px rgba(2,6,23,.2));border-radius:14px}
@media (max-width:820px){.hero-inner{flex-direction:column;align-items:flex-start}.hero-logo{width:96px}}

/* Grids de portada */
.grid{display:grid;gap:16px}
.grid-3{grid-template-columns:repeat(3,1fr)}
@media (max-width:900px){.grid-3{grid-template-columns:1fr 1fr}}
@media (max-width:620px){.grid-3{grid-template-columns:1fr}}

/* Tarjetas con iconos a la izquierda */
.card-icon{display:flex;align-items:center;gap:14px}
.card-icon img{width:72px;height:72px;border-radius:14px;filter:drop-shadow(0 6px 14px rgba(2,6,23,.2))}
.card-icon h3{margin:0;font-size:18px}
@media (max-width:900px){ .card-icon img{width:64px;height:64px} }
@media (max-width:620px){ .card-icon img{width:56px;height:56px} }
.card-icon h3{margin:0}

/* Layout de acceso */
.login-wrap{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:60vh;gap:12px}
.login-hero{width:160px;height:auto;filter:drop-shadow(0 6px 14px rgba(2,6,23,.25))}
@media (max-width:640px){.login-hero{width:120px}}

/* Panel de notas/anuncios con fondo suave */
.nota-panel{background:#f8fafc; border-color:#e2e8f0}

/* TÃ­tulos de secciÃ³n con subrayado gradiente */
.seccion-titulo{position:relative;display:inline-block;padding-bottom:4px}
.seccion-titulo::after{content:"";position:absolute;left:0;right:0;bottom:0;height:3px;border-radius:3px;background:linear-gradient(90deg,var(--blue),var(--indigo))}

/* Listados con puntos de color */
.listado-color{padding-left:0;list-style:none}
.listado-color li{position:relative;padding-left:18px;margin:6px 0}
.listado-color li::before{content:"";position:absolute;left:0;top:8px;width:10px;height:10px;border-radius:50%;background:#94a3b8}
.listado-color li.dot-blue::before{background:var(--blue)}
.listado-color li.dot-cyan::before{background:var(--cyan)}
.listado-color li.dot-indigo::before{background:var(--indigo)}
.listado-color li.dot-amber::before{background:var(--acc)}
.listado-color li.dot-green::before{background:var(--ok)}

/* Dots por tipo de mantenimiento */
.dot-tipo{display:inline-block;width:10px;height:10px;border-radius:50%;vertical-align:middle;margin-right:6px}
.dot-predictivo{background:#06b6d4}
.dot-preventivo{background:#84cc16}
.dot-correctivo{background:#ef4444}
.fila{display:flex;gap:14px;flex-wrap:wrap}
.col{flex:1 1 260px}

/* TipografÃ­a utilitaria */
h1,h2,h3{margin:0 0 8px 0}
h2{font-size:18px; letter-spacing:.2px}
h3{font-size:16px; color:#111827}
p{color:var(--txt)}
small, .muted{color:var(--mut)}

/* Botones modernos */
.btn{
  display:inline-block; background:var(--pri); color:#fff; padding:10px 14px; border-radius:10px;
  border:none; cursor:pointer; text-decoration:none; font-weight:600; letter-spacing:.2px;
  box-shadow: 0 4px 10px rgba(29,78,216,.18); transition: transform .06s ease, background .2s ease, box-shadow .2s ease;
}
.btn:hover{background:var(--pri-600); box-shadow:0 6px 16px rgba(29,78,216,.22)}
.btn:active{background:var(--pri-700); transform:translateY(1px)}
.btn.sec{background:#334155}
.btn.sec:hover{background:#1f2937}
.btn.ok{background:var(--ok)}
.btn.ok:hover{background:#15803d}
.btn.err{background:var(--err)}
.btn.err:hover{background:#b91c1c}
.acciones a,.acciones button{margin-right:8px}

/* Formularios */
input,select,textarea{
  width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:10px; background:#fff;
  outline:none; transition: box-shadow .15s ease, border-color .15s ease;
}
input:focus,select:focus,textarea:focus{
  border-color:var(--pri); box-shadow:0 0 0 3px rgba(37,99,235,.15);
}
form .grupo{margin-bottom:12px}
label{display:block;margin-bottom:6px;color:#374151;font-weight:600}
small.flash{display:inline-block;margin-top:6px;padding:6px 8px;border-radius:8px}

/* Mensajes flash */
.flash{padding:10px 12px;border-radius:10px;margin:10px 0;font-weight:600;animation: fadeInUp .2s ease both}
.flash.exito{background:#ecfdf5;color:#065f46;border:1px solid #a7f3d0}
.flash.error{background:#fef2f2;color:#b91c1c;border:1px solid #fecaca}
.flash.info{background:#eff6ff;color:#1e3a8a;border:1px solid #bfdbfe}

/* Tablas limpias y modernas */
table{width:100%;border-collapse:separate;border-spacing:0;background:var(--surface);border:1px solid var(--border);border-radius:12px;overflow:hidden;box-shadow:var(--shadow)}
th,td{padding:12px 14px;border-bottom:1px solid var(--border);text-align:left}
th{background:#f9fafb;font-size:12px;letter-spacing:.4px;color:#374151;text-transform:uppercase}
tbody tr:nth-child(even){background:#fcfdff}
tbody tr:hover{background:#f8fbff}
tbody tr:last-child td{border-bottom:none}

/* Kanban: columnas con realce de destino y tarjetas con relieve */
.kanban{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}
.columna{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:10px;min-height:260px;box-shadow:var(--shadow);transition:box-shadow .15s ease,border-color .15s ease}
.columna:hover{border-color:#cbd5e1;box-shadow:0 8px 22px rgba(2,6,23,.10)}
.columna h3{margin:4px 0 10px 2px;font-size:14px;color:#0f172a;letter-spacing:.3px}
.tarjeta-m{border:1px solid #e5e7eb;border-radius:12px;padding:10px 12px;margin:8px 0;background:linear-gradient(180deg,#ffffff 0%, #fbfdff 100%);box-shadow:0 3px 10px rgba(15,23,42,.06);transition:transform .08s ease, box-shadow .15s ease}
.tarjeta-m:hover{transform:translateY(-1px);box-shadow:0 6px 16px rgba(15,23,42,.12)}
.tarjeta-m strong{color:#0f172a}
.tarjeta-m small{color:var(--mut)}

/* Chips de identidad */
.chip{display:inline-block;padding:2px 8px;border-radius:999px;font-size:12px;line-height:1;border:1px solid rgba(0,0,0,.06);background:#f1f5f9;color:#0f172a}
.chip.code{background:#eef2ff;border-color:#c7d2fe;color:#1e3a8a}
.chip.tipo-predictivo{background:#ecfeff;border-color:#a5f3fc;color:#0369a1}
.chip.tipo-preventivo{background:#ecfccb;border-color:#bef264;color:#365314}
.chip.tipo-correctivo{background:#fee2e2;border-color:#fecaca;color:#991b1b}

/* Acentos por columna de estado */
[data-estado="por_hacer"]{border-top:4px solid #93c5fd}
[data-estado="en_espera"]{border-top:4px solid #fbbf24}
[data-estado="en_revision"]{border-top:4px solid #a78bfa}
[data-estado="terminada"]{border-top:4px solid #34d399}

/* Resaltado por navegaciÃ³n desde calendario */
@keyframes heartbeatSlow{0%,100%{box-shadow:0 0 0 0 rgba(37,99,235,.0)}50%{box-shadow:0 0 0 10px rgba(37,99,235,.15)}}
.tarjeta-m.resaltado{animation: heartbeatSlow 1.6s ease-in-out infinite; border-color:#93c5fd}

/* Barra de progreso interactiva */
.progress{margin:8px 0}
.progress-meta{font-size:12px;color:#475569;margin-bottom:6px}
.progress-track{position:relative;height:10px;background:#e5e7eb;border-radius:999px;overflow:hidden;cursor:pointer}
.progress-fill{position:absolute;left:0;top:0;height:100%;background:linear-gradient(90deg,#60a5fa,#2563eb);border-radius:999px;transition:width .06s ease}
.progress-thumb{position:absolute;top:50%;transform:translate(-50%,-50%);width:16px;height:16px;border-radius:50%;background:#fff;border:2px solid #2563eb;box-shadow:0 2px 6px rgba(2,6,23,.2);transition:left .06s ease}
.progress-track:hover .progress-thumb{box-shadow:0 4px 10px rgba(2,6,23,.25)}

/* Calendario: tarjetas por dÃ­a con jerarquÃ­a visual */
.calendario{display:grid;grid-template-columns:repeat(7,1fr);gap:10px}
.dia{background:var(--surface);border:1px solid var(--border);border-radius:12px;min-height:100px;padding:10px;box-shadow:var(--shadow);position:relative}
.dia .fecha{font-size:12px;color:#64748b;position:absolute;top:8px;right:10px}
.dia div small{display:block;background:#f1f5f9;border:1px solid #e2e8f0;color:#0f172a;padding:4px 6px;border-radius:8px;margin-top:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

/* Barra superior de secciones */
.topbar{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}
.topbar h2{font-size:20px}

/* Accesibilidad: focus visible en enlaces y botones */
a:focus, .btn:focus{outline:none;box-shadow:0 0 0 3px rgba(37,99,235,.25)}

/* Responsivo */
@media (max-width:1100px){.contenedor{padding:0 12px}}
@media (max-width:900px){.kanban{grid-template-columns:1fr 1fr}.calendario{grid-template-columns:repeat(7,1fr)}}
@media (max-width:700px){.kanban{grid-template-columns:1fr}}
@media (max-width:900px){ header nav{gap:12px} nav a{padding:6px 8px;font-size:13px} }
@media (max-width:640px){.brand-logo{width:64px;height:64px}.brand-name{font-size:18px} header nav{gap:10px} }

/* Chatbot flotante */
.chatbot-toggle-img{
  position:fixed; right:20px; bottom:20px; width:110px; height:110px; cursor:pointer; z-index:1000;
  filter: drop-shadow(0 10px 22px rgba(37,99,235,.32));
  transition: transform .1s ease, filter .2s ease;
  animation: chatPulse 3.2s ease-in-out infinite;
}
.chatbot-toggle-img:hover{ transform: translateY(-2px) scale(1.03); filter: drop-shadow(0 12px 26px rgba(37,99,235,.36)); }
.chatbot-toggle-img:active{ transform: translateY(0) scale(0.99); }
@media (max-width:640px){ .chatbot-toggle-img{ width:88px; height:88px; right:16px; bottom:16px } }

/* Pulso/flotaciÃ³n del botÃ³n de chat */
@keyframes chatPulse {
  0%, 100% { transform: translateY(0) scale(1); filter: drop-shadow(0 10px 22px rgba(37,99,235,.32)); }
  50% { transform: translateY(-6px) scale(1.04); filter: drop-shadow(0 14px 28px rgba(37,99,235,.38)); }
}

@media (prefers-reduced-motion: reduce) {
  .chatbot-toggle-img{ animation: none; }
}

.chatbot-window{
  position:fixed; right:20px; bottom:150px; width:360px; max-height:70vh; display:flex; flex-direction:column;
  background:var(--surface); border:1px solid var(--border); border-radius:16px; box-shadow:var(--shadow); overflow:hidden; z-index:1000;
  opacity:0; visibility:hidden; transform: translateY(12px) scale(.98);
  transition: opacity .18s ease, transform .18s ease, visibility .18s ease;
  pointer-events:none;
}
.chatbot-window.abierto{opacity:1; visibility:visible; transform:none; pointer-events:auto}
.chatbot-header{display:flex;align-items:center;justify-content:space-between;background:linear-gradient(90deg,#1e3a8a,#2563eb); color:#fff; padding:10px 12px}
.chatbot-cerrar{background:transparent;border:none;color:#fff;font-size:20px;cursor:pointer}
.chatbot-mensajes{padding:12px; overflow:auto; flex:1; background:linear-gradient(180deg,#ffffff 0%, #f8fafc 100%)}
.chatbot-form{display:flex;gap:8px; padding:10px; border-top:1px solid var(--border); background:#fff}
.chatbot-form input{flex:1}
.msg{max-width:85%; padding:8px 10px; margin:6px 0; border-radius:12px; box-shadow:0 2px 6px rgba(2,6,23,.06)}
.msg.bot{background:#eef2ff; color:#1e3a8a; border:1px solid #dbeafe}
.msg.usuario{background:#ecfdf5; color:#065f46; margin-left:auto; border:1px solid #a7f3d0}

/* Utilidades de animaciÃ³n */
@keyframes fadeInUp{from{opacity:0; transform: translateY(6px)} to{opacity:1; transform:none}}
@keyframes dropIn{from{transform:scale(.98) translateY(4px); opacity:.85} to{transform:none; opacity:1}}
@keyframes pulseOutline{0%{box-shadow:0 0 0 0 rgba(37,99,235,.25)} 100%{box-shadow:0 0 0 8px rgba(37,99,235,0)}}
.fade-in{animation: fadeInUp .2s ease both}
.dropped{animation: dropIn .18s ease both}

/* Estados de arrastre en kanban */
.tarjeta-m.dragging{opacity:.9; transform:rotate(1deg) scale(1.03); cursor:grabbing; box-shadow:0 10px 26px rgba(15,23,42,.22)}
.columna.over{outline:2px dashed rgba(37,99,235,.35); outline-offset: -6px; animation: pulseOutline .8s ease-out infinite}
.columna .placeholder{height:42px; border:2px dashed #c7d2fe; border-radius:10px; background:#eef2ff; margin:6px 0}

@media (max-width:640px){
  .chatbot-window{ bottom:120px; width:320px; }
}

/* Avatar visible durante el arrastre */
.drag-avatar{
  position:fixed; top:0; left:0; z-index:1100; pointer-events:none;
  background:linear-gradient(180deg,#ffffff 0%, #fbfdff 100%);
  border:1px solid #e5e7eb; border-radius:12px; box-shadow:0 10px 26px rgba(15,23,42,.22);
  opacity:.95; transform: translate(-9999px,-9999px);
}

/* (Mascota Axolot eliminada) */

/* Modal genÃ©rico para detalles */
.modal-overlay{position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:1200}
.modal-overlay.abierto{display:flex}
.modal-backdrop{position:absolute; inset:0; background:rgba(15,23,42,.45); z-index:1;} /* sin blur */
.modal-card{position:relative; z-index:2; width:min(780px, 96vw); max-height:82vh; overflow:auto; background:var(--surface); border:1px solid var(--border); border-radius:18px; box-shadow:0 24px 56px rgba(2,6,23,.28); animation: fadeInUp .22s ease both}
.modal-head{display:flex; align-items:center; justify-content:space-between; padding:14px 18px; border-bottom:1px solid var(--border); background:linear-gradient(90deg,#f8fafc 0%, #eef2ff 100%)}
.modal-close{background:transparent;border:none;font-size:22px;cursor:pointer;color:#334155}
.modal-body{padding:18px 20px}
.detalle-grid{display:grid; grid-template-columns:200px 1fr; gap:14px}
.detalle-row{display:contents}
.detalle-key{color:#475569; font-weight:600; padding:8px 0; border-bottom:1px solid var(--border)}
.detalle-val{color:#0f172a; padding:8px 0; border-bottom:1px solid var(--border); line-height:1.6; white-space:pre-wrap; word-break:break-word}
@media (max-width:720px){
  .detalle-grid{grid-template-columns:1fr;}
  .detalle-key{padding-top:12px}
}

